(this["webpackJsonpthirdlove-frontend-test"]=this["webpackJsonpthirdlove-frontend-test"]||[]).push([[0],{108:function(e,t,a){e.exports=a(294)},114:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},124:function(e,t,a){},287:function(e,t,a){},288:function(e,t,a){},289:function(e,t,a){},290:function(e,t,a){},291:function(e,t,a){},292:function(e,t,a){},294:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),s=a.n(c),i=(a(113),a(114),a(26)),o=(a(115),a(16)),l=a(17),u=a(20),d=a(18),h=a(7),p=a(21),v=a(45),f=a(44),m=a(6),b=function(e){return e.reduce((function(e,t){return e.concat({thumbnail:"https://".concat(t[m.THUMBNAIL]),original:"https://".concat(t[m.ORIGINAL_LARGE])})}),[])},C=function(e){return e.reduce((function(e,t){var a;return function(e){return e[m.STOCK]>=m.MIN_STOCK}(t)&&function(e){return Object.values(e).length===m.NUMBER_OF_ATTRS_VARIANTS}(t)?e.concat((a={id:t[m.ID].toString(),price:t[m.PRICE],stock:t[m.STOCK],color:t[m.COLOR_VARIANTS]},Object(v.a)(a,m.SIZE_VARIANTS,t[m.SIZE_VARIANTS]),Object(v.a)(a,"band","".concat(t[m.SIZE_VARIANTS][0]).concat(t[m.SIZE_VARIANTS][1])),Object(v.a)(a,"cup",t[m.SIZE_VARIANTS].slice(m.QTY_CHARS_FOR_BAND_SIZES)),a)):e}),[])},O=function(e){return e.split("-")[0].toUpperCase()},E=a(101),g=a.n(E),S=function(e){return Object(f.a)(new Set(e))},j=function(e){var t=e.split("."),a=Object(i.a)(t,2),n=a[0],r=a[1];return"$".concat(n).concat("00"!==r?".".concat(r):"")},I=function(e){var t={};for(var a in e)t[e[a]]=a;return t},_=(a(116),a(295)),N=a(296),A=a(297),k=a(11),T=a.n(k),R=(a(117),function(e){var t=e.text,a=e.className;return r.a.createElement("div",{className:T()("label",a)},t)});R.defaultProps={text:"",className:""};var y=R,V=a(102),B=a.n(V),F=(a(124),function(e){var t=e.images;return r.a.createElement(B.a,{items:t})}),L=a(103),x=(a(287),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(h.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){this.props.onChange(e)}},{key:"render",value:function(){var e,t=this,a=this.props.colors;return r.a.createElement(L.CirclePicker,{colors:(e=a,e.map((function(e){return m.COLORS[e]}))),onChange:function(e){t.handleChange(e.hex)}})}}]),t}(r.a.Component));x.defaultProps={onChange:null};var w=x,M=a(298),D=(a(288),function(e){var t=e.text,a=e.onClick,n=e.className;return r.a.createElement(M.a,{className:T()(n),type:"button",onClick:a},t)});D.defaultProps={text:"",className:"",onClick:function(){}};var P=D,H=a(106),Z=(a(289),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(h.a)(a)),a.state={selected:a.props.selected},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){e.value!==this.props.selected.value&&(this.setState((function(){return{selected:e}})),this.props.onChange(e))}},{key:"render",value:function(){var e,t=this.props,a=t.options,n=t.label;return r.a.createElement("div",{className:"dropdown"},r.a.createElement("label",{htmlFor:this.state.selected.value},n,r.a.createElement(H.a,{value:this.props.selected,onChange:this.handleChange,options:(e=a,e.reduce((function(e,t){return e.concat({value:t,label:t})}),[]))})))}}]),t}(r.a.Component));Z.defaultProps={selected:void 0,label:""};var U=Z,G=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={hasError:!1},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement("div",null,this.props.errorMessage):this.props.children}}]),t}(r.a.Component);G.defaultProps={errorMessage:"There was an error loading this component."};a(290);var K=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getBandFilters=a.getBandFilters.bind(Object(h.a)(a)),a.getCupFilters=a.getCupFilters.bind(Object(h.a)(a)),a.onChangeColor=a.onChangeColor.bind(Object(h.a)(a)),a.onChangeBand=a.onChangeBand.bind(Object(h.a)(a)),a.onChangeCup=a.onChangeCup.bind(Object(h.a)(a)),a.state={selectedColor:a.props.variants[0].color,selectedBand:a.props.variants[0].band,selectedCup:a.props.variants[0].cup,bandFilters:[a.props.variants[0].band],cupFilters:[a.props.variants[0].cup]},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getBandFilters(),this.getCupFilters()}},{key:"componentDidUpdate",value:function(){var e=this.state,t=e.selectedColor,a=e.selectedBand,n=e.selectedCup,r=function(e){var t=e.variants,a=e.color,n=e.band,r=e.cup;return t&&t.find((function(e){return(!a||e.color===a)&&(!n||e.band===n)&&(!r||e.cup===r)}))}({variants:this.props.variants,color:t,band:a,cup:n});r?r.id!==this.props.selectedVariantId&&this.props.onChangeVariant(r.id):(this.getBandFilters(),this.getCupFilters())}},{key:"getBandFilters",value:function(e){var t=this,a=[];this.props.variants.forEach((function(n){n.color!==t.state.selectedColor||e&&n.cup!==e||a.push(n.band)}));var n=S(a);this.setState((function(){return{bandFilters:n,selectedBand:n[0]}}))}},{key:"getCupFilters",value:function(e){var t=this,a=[];this.props.variants.forEach((function(n){n.color!==t.state.selectedColor||e&&n.band!==e||a.push(n.cup)}));var n=S(a);this.setState((function(){return{cupFilters:n,selectedCup:n[0]}}))}},{key:"onChangeColor",value:function(e){this.setState((function(){return{selectedColor:I(m.COLORS)[e]}}))}},{key:"onChangeBand",value:function(e){var t=e.value;this.setState((function(){return{selectedBand:t}}),this.getCupFilters(t))}},{key:"onChangeCup",value:function(e){var t=e.value;this.setState((function(){return{selectedCup:t}}),this.getBandFilters(t))}},{key:"render",value:function(){var e,t,a=this,n=function(e){var t=new Set;return e.forEach((function(e){t.add(e.color)})),Object(f.a)(t)}(this.props.variants),c=(e=this.props.variants,t=this.props.selectedVariantId,e.find((function(e){return e.id===t}))||this.props.variants[0]),s=c.color,i=c.price,o=c.stock,l=c.band,u=c.cup;return r.a.createElement("div",{className:"variants"},r.a.createElement(y,{className:"variants-color",text:"COLOR: ".concat(O(s))}),r.a.createElement(y,{className:"variants-price",text:j(i)}),n&&r.a.createElement(w,{selected:this.state.selectedColor,colors:n,onChange:this.onChangeColor}),r.a.createElement(y,{className:"variants-stock",text:"STOCK: ".concat(o)}),r.a.createElement("div",{className:"variants-sizes__container"},r.a.createElement("div",{className:"variants-band__selector"},r.a.createElement(U,{selected:{value:this.state.selectedBand,label:this.state.selectedBand},options:this.state.bandFilters,onChange:this.onChangeBand,label:"BAND SIZE"})),r.a.createElement("div",{className:"variants-cup__selector"},r.a.createElement(U,{selected:{value:this.state.selectedCup,label:this.state.selectedCup},options:this.state.cupFilters,onChange:this.onChangeCup,label:"CUP SIZE"}))),r.a.createElement(P,{className:"variants-submit__button full-size",text:"Add to Bag",onClick:function(){return a.props.handleSubmit({color:s,band:l,cup:u})}}))}}]),t}(r.a.Component),z=(a(291),function(e){var t=e.contentHtml,a=e.className;return r.a.createElement("div",{className:a},r.a.createElement(y,{className:"product-description__label",text:"DETAILS"}),function(e,t){var a=t?{ALLOWED_TAGS:t}:{};return r.a.createElement("div",{dangerouslySetInnerHTML:{__html:g.a.sanitize(e,a)}})}(t,["meta","p","ul","li","span"]))});z.defaultProps={className:""};var J=z,Q=(a(292),function(e){var t=e.images,a=e.title,n=e.selectedVariantId,c=e.onChangeVariant,s=e.variants,i=e.handleSubmit,o=e.bodyHtml;return r.a.createElement(_.a,{fluid:!0,className:"container__main"},r.a.createElement(N.a,null,r.a.createElement(y,{className:"product-title__label",text:a})),r.a.createElement(N.a,{md:"8"},r.a.createElement(A.a,{md:"auto"},r.a.createElement(N.a,{md:"8"},t&&r.a.createElement(F,{images:t}))),r.a.createElement(A.a,{md:"auto"},s&&r.a.createElement(N.a,null,r.a.createElement(K,{selectedVariantId:n,onChangeVariant:c,variants:s,handleSubmit:i})))),r.a.createElement(A.a,null,o&&r.a.createElement(N.a,{xs:"12",className:"product-description"},r.a.createElement("hr",{className:"division"}),r.a.createElement(J,{className:"product-description__content",contentHtml:o}))))});Q.defaultProps={images:[],title:"",bodyHtml:""};var Y=Q,q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).onChangeVariant=a.onChangeVariant.bind(Object(h.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a.addToCart=a.addToCart.bind(Object(h.a)(a)),a.state={selectedVariantId:a.props.product.variants[0].id.toString()},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"onChangeVariant",value:function(e){this.setState((function(){return{selectedVariantId:e}}))}},{key:"handleSubmit",value:function(e){var t=e.band,a=e.cup,n=this.props.product,r=n.id,c=n.title;alert("Added a ".concat(c," - ").concat(t).concat(a," to the cart")),this.addToCart(r,this.state.selectedVariantId)}},{key:"addToCart",value:function(e,t){}},{key:"render",value:function(){var e=this.props.product,t=e.title,a=e.images,n=e.variants,c=e.body_html,s=this.state.selectedVariantId;return r.a.createElement(Y,{images:b(a),selectedVariantId:s,onChangeVariant:this.onChangeVariant,variants:C(n),handleSubmit:this.handleSubmit,title:t,bodyHtml:c})}}]),t}(r.a.Component),W=a(65),$=a.n(W),X=a(105),ee=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(!0),o=Object(i.a)(s,2),l=o[0],u=o[1],d=function(){var t=Object(X.a)($.a.mark((function t(){var a,n;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e);case 3:return a=t.sent,t.next=6,a.json();case 6:n=t.sent,c(n),u(!1),t.next=14;break;case 11:throw t.prev=11,t.t0=t.catch(0),new Error("Cannot fetch data from url, error: ".concat(t.t0));case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){d()}),[]),[r,l]};var te=function(){var e=ee("https://www.mocky.io/v2/5c6c3a92320000e83bbef971"),t=Object(i.a)(e,2),a=t[0],n=t[1];return r.a.createElement("div",null,n?"Loading...":r.a.createElement(q,{product:a.product}))};s.a.render(r.a.createElement(te,null),document.getElementById("root"))},6:function(e,t){e.exports={QTY_CHARS_FOR_BAND_SIZES:2,COLOR_VARIANTS:"option1",SIZE_VARIANTS:"option2",STOCK:"inventory_quantity",ID:"id",TITLE:"title",PRICE:"price",THUMBNAIL:"src100",ORIGINAL_MEDIUM:"src600",ORIGINAL_LARGE:"src1000",NUMBER_OF_ATTRS_VARIANTS:5,MIN_STOCK:10,COLORS:{"naked-1":"#ffefe5","naked-2":"#dab5a1","naked-3":"#d49d89","naked-4":"#6a3a33","naked-5":"#524346"}}}},[[108,1,2]]]);
//# sourceMappingURL=main.73e3937f.chunk.js.map